import Vue from "vue";
import MyComponent from "./MyComponent.vue";

export function render(root, preferences) {

  if(!preferences || !preferences.logIndex){
    preferences = {};

    preferences.title = "/api/v1/logs/indexes?type=logs";

    //preferences.logIndex = (await fetch("/api/v1/logs/indexes?type=logs")).json();
    preferences.logIndex = {"locked":false,"historicalIndexes":[{"from":"2019-11-01T04:00:00Z","readDataAccess":true,"scopeId":"69041","name":"esr-2020-02-06","to":"2020-02-06T22:00:00Z"},{"from":"2019-10-01T04:00:00Z","readDataAccess":true,"scopeId":"63768","name":"audit-bnc-oct-dec-customer-request","to":"2020-01-01T05:00:00Z"},{"from":"2020-01-02T19:00:00Z","readDataAccess":true,"scopeId":"65952","name":"incident-es-events-master-logs","to":"2020-01-03T00:00:00Z"},{"from":"2019-12-20T17:00:00Z","readDataAccess":true,"scopeId":"63457","name":"rrevol-ls-144-logs-api","to":"2019-12-20T18:00:00Z"},{"from":"2020-01-06T23:00:00Z","readDataAccess":true,"scopeId":"66982","name":"jan-07-jan-07-service-logs-api-querytype-insights","to":"2020-01-07T22:59:59.999Z"},{"from":"2020-01-06T23:00:00Z","readDataAccess":true,"scopeId":"66988","name":"jan-07-jan-07-7pm-service-logs-api-querytype-insights","to":"2020-01-07T18:00:00Z"},{"from":"2020-01-17T09:00:00Z","readDataAccess":true,"scopeId":"68016","name":"jan-17-jan-18-service-rawls-extract-kafka-connect","to":"2020-01-17T23:59:00Z"},{"from":"2020-01-21T20:04:10.951Z","readDataAccess":true,"scopeId":"68932","name":"jan-21-jan-21-http-status-code-413-http-url-details-path-api-v1-series","to":"2020-01-21T20:08:16.228Z"},{"from":"2020-01-15T17:00:00Z","readDataAccess":true,"scopeId":"66880","name":"tsa-incident-3577","to":"2020-01-16T17:00:00Z"},{"from":"2020-01-14T09:11:24Z","readDataAccess":true,"scopeId":"64489","name":"test-gzip-1","to":"2020-01-14T10:11:26Z"},{"from":"2019-12-14T13:20:37.312Z","readDataAccess":true,"scopeId":"64246","name":"dec-14-dec-14-service-alerting-indexer-host-i-056baf9a89b7fd177","to":"2019-12-14T14:30:48.240Z"},{"from":"2017-05-03T22:00:00Z","readDataAccess":true,"scopeId":"68040","name":"screeboard-500-bad-type","to":"2017-05-06T21:00:00Z"}],"indexes":[{"name":"incident3143","dailyLimit":10000,"rateLimited":true,"scopeId":"55035","query":"\"No object (name: request) has been registered for this thread\"","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"vault","dailyLimit":null,"rateLimited":false,"scopeId":"13815","query":"vault_cluster:*","retention":60,"readDataAccess":true,"dailyQuotaDisabled":true},{"name":"inventories","dailyLimit":null,"rateLimited":false,"scopeId":"63534","query":"team:inventories service:(resource-edge OR resource-rewriter OR resource-compliance-evaluator OR compliance-log-generator OR resource-relationship-writer)","retention":15,"readDataAccess":true,"dailyQuotaDisabled":true},{"name":"k8s-audit","dailyLimit":null,"rateLimited":false,"scopeId":"13814","query":"service:(k8s-audit OR kube-apiserver-audit)","retention":15,"readDataAccess":true,"dailyQuotaDisabled":true},{"name":"metrics-intake","dailyLimit":null,"rateLimited":false,"scopeId":"6","query":"service:(contexts-rewriter OR hms-resolver OR nicky OR propjoe OR pylae OR quota-limiter OR slicer-assigner OR slicer-distributor OR twemproxy-nanny OR reese OR val) AND datacenter:(us1.prod.dog OR eu1.prod.dog)","retention":7,"readDataAccess":true,"dailyQuotaDisabled":true},{"name":"monitor-app","dailyLimit":50000000,"rateLimited":false,"scopeId":"17737","query":"service:(hucklebuck OR monitor-graph-writer OR monitor-history-reader OR monitor-history-writer OR monitor-uptime-writer OR alerting-indexer OR elasticsearch-uptimes OR elasticsearch-downtimes OR elasticsearch-monitors OR monitor-uptime-writer-canary OR alerting-downtime-matcher-web)","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"security","dailyLimit":null,"rateLimited":false,"scopeId":"9983","query":"(service:(appgate OR stackdriver OR go-audit OR trident OR cujo OR cujo-api OR cujo-agent OR pcalertqueries OR ddclair OR clair OR security-cloudwatch-logs OR tenable-sc OR security_center_sidecar OR op-scim OR azure OR security-lambdas OR supportbot OR jamf OR trident-monitor) OR @aws.awslogs.owner:013910733512)","retention":15,"readDataAccess":true,"dailyQuotaDisabled":true},{"name":"mortar","dailyLimit":150000000,"rateLimited":false,"scopeId":"21919","query":"( env:(prod OR michelada) AND (service:*mortar* OR (service:*sso* AND team:data-eng-infra)))","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"driveline","dailyLimit":null,"rateLimited":false,"scopeId":"60012","query":"source:driveline","retention":2,"readDataAccess":true,"dailyQuotaDisabled":true},{"name":"k8s-platform","dailyLimit":null,"rateLimited":false,"scopeId":"13813","query":"(role:(kube-node OR kube-etcd OR etcd OR apiserver OR controller OR scheduler) -pod_name:* -service:kubernetes -source:undefined -filename:0.log -service:elasticsearch -service:dogweb -service:ingress-haproxy-agent-stable -service:logs-indexation -service:synthetics*) OR (app:(cluster-autoscaler OR metrics-server OR coredns OR admission-controller OR datadog-kubernetes-watchdog OR kube-proxy-watch OR kube-sync OR kube2iam OR etcd-backup-operator OR nodegroup-controller OR node-monitoring OR external-dns OR k8s-vault-binding-controller OR cilium-operator)) OR (service:(k8s-platform-cluster-cni OR kube-*)) OR k8s_cluster:*","retention":15,"readDataAccess":true,"dailyQuotaDisabled":true},{"name":"build-stable","dailyLimit":400000000,"rateLimited":false,"scopeId":"642","query":"account:build-stable","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"build-unstable","dailyLimit":50000000,"rateLimited":false,"scopeId":"6303","query":"account:build-unstable","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"sre-bourbon","dailyLimit":1000000000,"rateLimited":false,"scopeId":"6794","query":"(team:(sre OR bourbon OR sre-bourbon)  AND (service:haproxy OR source:haproxy OR source:lambda OR source:browser OR source:manager)) OR kube_namespace:sre OR @aws.invoked_function_arn:\"arn:aws:lambda:us-east-1:464622532012:function:sre-bourbon-to-datadog-logs\" -datacenter:us2.prod.dog","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"yuzu","dailyLimit":null,"rateLimited":false,"scopeId":"1862","query":"(service:(alerting-composite-evaluator OR alerting-event-evaluator OR alerting-metric-evaluator OR alerting-metric-query OR alerting-scheduler OR cole OR cutty OR bubs OR cole-sla OR cole-warehouse OR cole-store OR monitor-results-indexer OR uptime-widget-syncer) OR app:alerting-rocky OR alerting-validator) AND  -cluster:*canary* AND -service:*canary* AND -role:*canary*","retention":30,"readDataAccess":true,"dailyQuotaDisabled":true},{"name":"yuzu-canary","dailyLimit":700000000,"rateLimited":false,"scopeId":"21814","query":"service:(alerting-composite-evaluator-shadow OR alerting-event-evaluator OR alerting-event-evaluator-shadow OR alerting-metric-evaluator OR alerting-metric-evaluator-canary OR alerting-metric-evaluator-shadow OR alerting-metric-query OR alerting-scheduler OR alerting-scheduler-shadow OR alerting-validator OR cole OR cutty OR bubs OR cole-sla OR cole-warehouse OR cole-store OR monitor-results-indexer) OR app:alerting-metric-evaluator OR (app:cassandra cluster:cassandra-alerting-query-cache-canary)","retention":3,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"monitor-intake","dailyLimit":500000000,"rateLimited":false,"scopeId":"32933","query":"service:(colvin* OR check-run* OR koutris*) AND -cluster:*canary* AND -service:*canary* AND -role:*canary* AND -cluster:*shadow* AND -service:*shadow* AND -role:*shadow*","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"monitor-intake-canary","dailyLimit":500000000,"rateLimited":false,"scopeId":"32934","query":"service:(colvin* OR check-run* OR koutris* OR alerting-validator-*) AND (cluster:*canary* OR service:*canary*  OR role:*canary* OR cluster:*shadow* OR service:*shadow* OR role:*shadow* OR service:*validator*)","retention":7,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"sandwich","dailyLimit":150000000,"rateLimited":false,"scopeId":"7102","query":"service:(delancie-correlations OR delancie-sandwich OR delancie-alert-clustering OR synthesizer OR signal-bundler OR signal-event-forwarder)","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"burrito","dailyLimit":300000000,"rateLimited":true,"scopeId":"45","query":"(team:processes OR service:process-* OR service:network-logger OR service:network-resolver OR service:container-resolver OR service:network-metric OR service:container-writer OR service:network-resolver OR service:network-logger OR role:cassandra-containers OR kube_namespace:process)","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"metrics-query","dailyLimit":700000000,"rateLimited":false,"scopeId":"2401","query":"service:(spidly OR mindy OR royce OR mindy-proxy OR query-cache-cassandra OR service:rocky)","retention":7,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"data-eng","dailyLimit":null,"rateLimited":false,"scopeId":"11722","query":"service:(pg-extracts OR host-pg-extracts OR ctx-pg-extracts OR historical-data-query OR historical-data-query-canary OR livy OR emr-spark-errors OR kafka-connect OR events-extract-kafka-connect OR rawls-extract-kafka-connect OR active-contexts-extract-kafka-connect OR data-eng-cron) OR (general_service:pg-extracts AND -service:consul-template)","retention":15,"readDataAccess":true,"dailyQuotaDisabled":true},{"name":"web-integrations","dailyLimit":150000000,"rateLimited":false,"scopeId":"7101","query":"service:(delancie-web_crawler OR delancie-default) OR (kube_deployment:delancie* AND team:web-integrations AND -kube_deployment:delancie-notification-worker) OR (kube_stateful_set:delancie-* AND team:web-integrations AND -app:delancie-notification)","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"core-index","dailyLimit":150000000,"rateLimited":false,"scopeId":"22251","query":"service:(host-consumer OR tagdex OR tagdex-client OR feiwriter OR feiwriter-context-cache OR rotom) OR (service:elasticsearch AND app:elasticsearch-hosts)","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"eclair","dailyLimit":500000000,"rateLimited":false,"scopeId":"5","query":"service:(delancie-crawler_aws OR delancie-crawler OR delancie-crawlerxl OR gcp-crawler OR delancie-crawler_aws_spillover )      OR  (kube_deployment:delancie* AND team:cloud-integrations) OR (kube_stateful_set:delancie-* AND team:cloud-integrations)","retention":7,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"raclette-staging","dailyLimit":200000000,"rateLimited":false,"scopeId":"58961","query":"-service:trace-agent AND service:(trace-* OR destro OR loom OR resource-writer OR service:synthtracer) AND env:staging","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"raclette","dailyLimit":300000000,"rateLimited":false,"scopeId":"8","query":"-service:trace-agent AND service:(trace-* OR destro OR loom OR resource-writer OR service:synthtracer)","retention":7,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"events-pipeline","dailyLimit":null,"rateLimited":false,"scopeId":"17956","query":"namespace:events-pipeline OR service:(events-indexer OR rate-limiter OR es-events-cron) OR (service:elasticsearch AND role:es-events-*) OR (service:templeton AND templeton_role:(events OR events_overflow))","retention":15,"readDataAccess":true,"dailyQuotaDisabled":true},{"name":"notifications-pipeline","dailyLimit":600000000,"rateLimited":false,"scopeId":"11","query":"service:(templeton OR alerting-state-notifications OR delancie-notification OR alerting-downtime-matcher OR alerting-downtime-matcher-canary OR alerting-downtime-validator OR monitor-state-service OR monitor-results-forwarder OR monitor-state-manager OR monitor-state-manager-benchmark) OR kube_deployment:delancie-notification-worker","retention":30,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"marlo","dailyLimit":60000000,"rateLimited":true,"scopeId":"1981","query":"service:(marlo OR aggr-query-backfill OR marlo-router OR marlo-aggr)","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"container-integrations","dailyLimit":1000000000,"rateLimited":false,"scopeId":"42491","query":"service:(datadog-agent OR datadog-cluster-agent OR cluster-agent OR datadog-agent-cluster-worker)","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"profiling","dailyLimit":300000000,"rateLimited":false,"scopeId":"36473","query":"team:profiling","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"sketch","dailyLimit":104000000,"rateLimited":false,"scopeId":"74","query":"service:sketch-* OR service:points-sketch-adapter OR service:summary-writer","retention":7,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"synthetics","dailyLimit":500000000,"rateLimited":false,"scopeId":"13602","query":"kube_deployment:synthetics-* OR service:synthetics*","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"watchdog","dailyLimit":850000000,"rateLimited":false,"scopeId":"33960","query":"service:delancie-insights OR (app-kubernetes-io-name:delancieinsights AND service:dogweb)","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"test-adp","dailyLimit":150000000,"rateLimited":false,"scopeId":"14777","query":"host:i-04466f80f92c7ee0e","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"eng-tools","dailyLimit":100000000,"rateLimited":false,"scopeId":"19125","query":"team:engtools","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"logs-devenv","dailyLimit":200000000,"rateLimited":false,"scopeId":"32606","query":"app:devenv AND (team:logs OR team:devenv-logs)","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"logs-dr","dailyLimit":150000000,"rateLimited":false,"scopeId":"25325","query":"team:logs datacenter:us2.prod.dog","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"logs-staging","dailyLimit":null,"rateLimited":false,"scopeId":"54922","query":"team:logs env:staging","retention":15,"readDataAccess":true,"dailyQuotaDisabled":true},{"name":"mcnulty","dailyLimit":6000000000,"rateLimited":false,"scopeId":"14691","query":"service:(mcnulty* OR support-admin)","retention":22,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"billing-auditing","dailyLimit":200000000,"rateLimited":false,"scopeId":"26168","query":"@billing_audit:true","retention":180,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"usage-simulation","dailyLimit":null,"rateLimited":false,"scopeId":"35203","query":"service:usage-simulation*","retention":15,"readDataAccess":true,"dailyQuotaDisabled":true},{"name":"logs-monitors-webhook","dailyLimit":null,"rateLimited":false,"scopeId":"53352","query":"service:logs-monitors-webhook @alert_transition:*","retention":15,"readDataAccess":true,"dailyQuotaDisabled":true},{"name":"sheepdog","dailyLimit":5000000000,"rateLimited":false,"scopeId":"4","query":"team:(ramen OR logs)","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"ses-email","dailyLimit":5000000,"rateLimited":false,"scopeId":"5129","query":"forwardername:lambda-ses-to-datadog-logs","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"enclave","dailyLimit":200000000,"rateLimited":false,"scopeId":"2757","query":"env:(enclave OR gce-enclave)","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"gcp","dailyLimit":400000000,"rateLimited":true,"scopeId":"23294","query":"source:gcp*","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"browser-agent","dailyLimit":150000000,"rateLimited":false,"scopeId":"20864","query":"source:browser","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"frontend-platform","dailyLimit":500000000,"rateLimited":false,"scopeId":"32712","query":"source:(yarn OR github)","retention":90,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"web-platform","dailyLimit":150000000,"rateLimited":false,"scopeId":"7103","query":"service:(host-consumer OR tagdex OR feiwriter)","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"serverless","dailyLimit":500000000,"rateLimited":false,"scopeId":"32106","query":"service:xray-converter","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"dd-events","dailyLimit":null,"rateLimited":false,"scopeId":"35874","query":"(service:dd_events OR @sourcecategory:monitor_alert OR @evt.type:*)","retention":15,"readDataAccess":true,"dailyQuotaDisabled":true},{"name":"bill-usage","dailyLimit":150000000,"rateLimited":false,"scopeId":"37046","query":"app:bill-usage","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"team-aaa","dailyLimit":null,"rateLimited":false,"scopeId":"42503","query":"service:account-settings","retention":15,"readDataAccess":true,"dailyQuotaDisabled":true},{"name":"sheepdog-prod","dailyLimit":2500000000,"rateLimited":false,"scopeId":"1","query":"(short_image:*) OR (service:kubernetes)","retention":7,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"test-atr","dailyLimit":1000000000,"rateLimited":false,"scopeId":"114","query":"\"wubalubadubdub wubalubadubdub wubalubadubdub\"","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false},{"name":"devenv","dailyLimit":null,"rateLimited":false,"scopeId":"54924","query":"kube_namespace:devenv-*","retention":15,"readDataAccess":true,"dailyQuotaDisabled":true},{"name":"compliance-mvp","dailyLimit":null,"rateLimited":false,"scopeId":"55474","query":"source:compliance-mvp","retention":15,"readDataAccess":true,"dailyQuotaDisabled":true},{"name":"main","dailyLimit":800000000,"rateLimited":false,"scopeId":"7","query":"*","retention":15,"readDataAccess":true,"dailyQuotaDisabled":false}]};
  }

  new Vue({
    render: h => h(MyComponent, { props: preferences })
  }).$mount(root);
}

export const preferencesDefinition = [{ name: "name", default: "Jane Doe" }];
